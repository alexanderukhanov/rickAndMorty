(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{29:function(e,t,a){},30:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),c=a.n(n),r=a(21),i=a.n(r),o=(a(29),a(8)),l=a(9),d=a(13),u=a(12);a(30);function j(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("span",{className:"text-gray",children:[e.title,":"]}),Object(s.jsx)("p",{className:"card-text",children:e.value})]})}var m=function(e){var t=e.items,a=t.image,n=t.name,c=t.status,r=t.species,i=t.location,o=t.gender,l=t.type;return Object(s.jsx)("div",{className:"col mb-4",children:Object(s.jsxs)("div",{className:"card h-100",children:[Object(s.jsx)("img",{className:"card-img-top",src:a,alt:""}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h4",{className:"card-title",children:n}),Object(s.jsxs)("p",{className:c.toLowerCase(),children:[c," - ",r,"."]}),Object(s.jsx)(j,{title:"Last known location",value:i.name}),Object(s.jsx)(j,{title:"Gender",value:o}),""!==l?Object(s.jsx)(j,{title:"Type",value:l}):null]})]})})};var b=function(e){return e.items.length>0?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h3",{children:"Cards"}),Object(s.jsx)("div",{className:"row row row-cols-1 row-cols-md-5",children:e.items.map((function(e){return Object(s.jsx)(m,{items:e},e.id)}))})]}):Object(s.jsx)("h3",{children:"Loading cards...."})},h=(a(31),a(17)),p=a.n(h),O=a(22),x="https://rickandmortyapi.com/api/character?page=",f="https://rickandmortyapi.com/api/location/",v="https://rickandmortyapi.com/api/episode/",g=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"getResource",value:function(){var e=Object(O.a)(p.a.mark((function e(t){var a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", received ").concat(a.status));case 5:return e.next=7,a.json();case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCharacters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.getResource(x+e)}},{key:"getLocations",value:function(){return this.getResource(f)}},{key:"getLocationsByName",value:function(e){var t=f.concat("?name=",e);return this.getResource(t)}},{key:"getEpisodes",value:function(){return this.getResource(v)}},{key:"getLocationById",value:function(e){var t=f.concat(e);return this.getResource(t)}},{key:"getEpisodeById",value:function(e){return this.getResource(v+e)}}]),e}(),N=a.p+"static/media/error.a73a508c.png";function y(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{children:e.errorMessage}),Object(s.jsx)("img",{alt:"error.img",id:"error_img",src:N})]})}function S(e){var t=[];for(var a in e.value)t.push(e.value[a]);return Object(s.jsx)("tr",{children:t.map((function(e,t){return Object(s.jsx)("td",{children:e},t)}))})}function B(e){return Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{onClick:e.sortByClick,className:"thead-dark",children:Object(s.jsx)("tr",{children:e.headers.map((function(e,t){var a;return e.isSortedFromAToB?a="focused_header_down":e.isSortedFromBToA&&(a="focused_header_up"),Object(s.jsx)("th",{className:"header_item",id:a,scope:"col",children:e.value},t)}))})}),Object(s.jsx)("tbody",{children:e.locationsOrEpisodes.map((function(e){return Object(s.jsx)(S,{value:e},e.id)}))})]})}var k=a(3),D=[{value:"#"},{value:"Name"},{value:"Type"},{value:"Dimension"},{value:""}],w="search",T="Search result",C=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={locations:[],searchInfo:"",isErrorSearch:!1,headers:D},n.dataService=new g,n.showLocations=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.map((function(e){return{id:e.id,name:e.name,type:e.type,dimension:e.dimension,button:Object(s.jsx)(k.b,{className:"btn btn-primary",to:"locations/".concat(e.id),children:"See more"})}}));n.setState({locations:a,searchInfo:t?"".concat(T,": ").concat(a.length):"",isErrorSearch:!1})},n.getDefaultData=function(){n.dataService.getLocations().then((function(e){n.showLocations(e.results)}))},n.componentDidMount=function(){return n.getDefaultData()},n.searchByName=function(e){e.preventDefault();var t=e.target.elements.search.value;n.dataService.getLocationsByName(t).then((function(e){n.showLocations(e.results,!0)})).catch(n.onError)},n.onError=function(e){n.setState({isErrorSearch:!0,errorMessage:e.message})},n.clearResult=function(e){e.preventDefault(),document.forms.locations.search.value="",n.getDefaultData()},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h3",{children:"Locations"}),Object(s.jsx)("div",{className:"mb-2",children:Object(s.jsxs)("form",{name:"locations",onSubmit:this.searchByName,className:"form-inline my-2 my-lg-0",children:[Object(s.jsx)("input",{name:w,required:!0,className:"form-control mr-sm-2",type:"search",placeholder:"Search"}),Object(s.jsx)("button",{className:"btn btn-outline-primary my-2 my-sm-0 search_button",type:"submit",children:"Search by Name"}),Object(s.jsx)("button",{onClick:this.clearResult,className:"btn btn-outline-primary my-2 my-sm-0",type:"submit",children:"Clear result"})]})}),""===this.state.searchInfo?null:Object(s.jsx)("p",{children:this.state.searchInfo}),this.state.isErrorSearch?Object(s.jsx)(y,{errorMessage:this.state.errorMessage}):Object(s.jsx)(B,{headers:this.state.headers,locationsOrEpisodes:this.state.locations})]})}}]),a}(c.a.Component),F="id",E="date",P=[{value:"#",isSortedFromAToB:!1,isSortedFromBToA:!1},{value:"Name",isSortedFromAToB:!1,isSortedFromBToA:!1},{value:"Date",isSortedFromAToB:!1,isSortedFromBToA:!1},{value:"Episode",isSortedFromAToB:!1,isSortedFromBToA:!1},{value:"",isSortedFromAToB:!1,isSortedFromBToA:!1}],A=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={episodes:[],headers:P},n.dataService=new g,n.componentDidMount=function(){n.dataService.getEpisodes().then((function(e){var t=e.results.map((function(e){return{id:e.id,name:e.name,date:e.air_date,episode:e.episode,button:Object(s.jsx)(k.b,{className:"btn btn-primary",to:"/episodes/".concat(e.id),children:"See more"})}}));n.setState({episodes:t})}))},n.sortList=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.setState((function(a){var s;return s=e===E?a.episodes.sort((function(e,a){var s=t?e.date:a.date,n=t?a.date:e.date;return new Date(s)-new Date(n)})):a.episodes.sort((function(a,s){return a[e]>s[e]?t?1:-1:a[e]<s[e]?t?-1:1:0})),e=e===F?"#":e,{episodes:s,headers:a.headers.map((function(a){var s=a.value.toLowerCase();return t?(a.isSortedFromBToA=!1,a.isSortedFromAToB=s===e):(a.isSortedFromBToA=s===e,a.isSortedFromAToB=!1),a}))}}))},n.chooseTypeOfSort=function(e,t){if("focused_header_down"===e)return n.sortList(t);n.sortList(t,!0)},n.sortByClick=function(e){var t=e.target.innerText,a=e.target.id;switch(t){case P[0].value:n.chooseTypeOfSort(a,F);break;case P[1].value:n.chooseTypeOfSort(a,"name");break;case P[2].value:n.chooseTypeOfSort(a,E);break;case P[3].value:n.chooseTypeOfSort(a,"episode")}},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h3",{children:"Episodes"}),Object(s.jsx)(B,{sortByClick:this.sortByClick,headers:this.state.headers,locationsOrEpisodes:this.state.episodes})]})}}]),a}(c.a.Component);function L(e){return Object(s.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark ".concat(e.isHiddenWelcomeBanner?"shift_main_content":null),children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(k.b,{className:"navbar-brand",to:"/",children:"Rick and Morty"}),Object(s.jsx)("form",{className:"form-inline my-2 my-lg-0",children:Object(s.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(k.b,{className:"nav-link",to:"/locations",children:"Locations"})}),Object(s.jsx)("li",{children:Object(s.jsx)(k.b,{className:"nav-link",to:"/episodes",children:"Episodes"})})]})})]})})}function _(e){return Object(s.jsx)(s.Fragment,{children:e.isHiddenWelcomeBanner?null:Object(s.jsxs)("header",{className:"jumbotron my-4",children:[Object(s.jsx)("h1",{className:"display-3",children:"Welcome!"}),Object(s.jsx)("p",{className:"lead",children:"Rick and Morty is an American adult animated science fiction sitcom created by Justin Roiland and Dan Harmon for Cartoon Network's late-night programming block Adult Swim."}),Object(s.jsx)("button",{onClick:e.hideWelcomeBanner,href:"#",className:"btn btn-primary btn-lg",children:"Click to hide"})]})})}function W(){return Object(s.jsx)("footer",{className:"py-5 bg-dark",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("p",{className:"m-0 text-center text-white",children:"Copyright \xa9 Your Website 2020"})})})}var M=a(2),R=a(10);function H(e){var t=Object(n.useState)({}),a=Object(R.a)(t,2),c=a[0],r=a[1];Object(n.useEffect)((function(){(new g).getLocationById(e.id).then((function(e){r(e)})).catch((function(e){return console.log(e.message)}))}),[e.id]);var i=c.name,o=c.type,l=c.dimension;return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:i}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h5",{className:"card-title",children:o}),Object(s.jsxs)("p",{className:"card-text",children:[Object(s.jsx)("strong",{children:"Dimension is"}),"  ",l]}),Object(s.jsx)(k.b,{className:"btn btn-primary",to:"/locations",children:"Go back"})]})]})}var I="disabled";function q(e){return Object(s.jsxs)("nav",{"aria-label":"...",children:[Object(s.jsxs)("ul",{onClick:e.choosePage,className:"pagination justify-content-center",children:[Object(s.jsx)("li",{id:"prevButton",className:"page-item ".concat(e.isPrevButtonDisabled?I:null),children:Object(s.jsx)(k.b,{className:"page-link",to:"#",children:"Previous"})}),e.pages.map((function(t,a){return t===e.page?Object(s.jsx)("li",{className:"page-item active",children:Object(s.jsx)(k.b,{className:"page-link",to:"#",children:t})},a):Object(s.jsx)("li",{className:"page-item",children:Object(s.jsx)(k.b,{className:"page-link",to:"#",children:t})},a)})),Object(s.jsx)("li",{id:"nextButton",className:"page-item ".concat(e.isNextButtonDisabled?I:null),children:Object(s.jsx)(k.b,{className:"page-link",to:"#",children:"Next"})})]}),Object(s.jsxs)("p",{id:"nuber_of_pages",children:[e.page," of ",e.quantityOfPages]})]})}var G="btn btn-primary ",J="btn btn-secondary ";function Y(e){var t=Object(n.useState)({}),a=Object(R.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(null),o=Object(R.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)(null),j=Object(R.a)(u,2),m=j[0],b=j[1],h=Object(n.useState)(!1),p=Object(R.a)(h,2),O=p[0],x=p[1],f=Object(n.useState)(!1),v=Object(R.a)(f,2),N=v[0],y=v[1],S=Number(e.id);Object(n.useEffect)((function(){var e=new g;e.getEpisodes().then((function(e){return d(e.info.count)})).catch((function(e){return console.log(e.message)})),e.getEpisodeById(S).then((function(e){x(!1),y(!1),S===l?y(!0):1===S&&x(!0),r(e),b(e.characters.length)})).catch((function(e){return console.log(e.message)}))}),[S,l]);var B=c.name,D=c.episode,w=c.air_date,T=O?"btn btn-primary disabled":G,C=N?"btn btn-secondary disabled":J;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h3",{children:"Episode detailts"}),Object(s.jsx)("div",{className:"list-group lead",children:Object(s.jsxs)("div",{className:"list-group-item",children:[Object(s.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(s.jsx)("h5",{className:"mb-1",children:D}),Object(s.jsx)("small",{children:w})]}),Object(s.jsxs)("div",{className:"mb-1",children:[Object(s.jsx)("div",{className:"d-inline",children:Object(s.jsx)("span",{className:"text-gray",children:"Name:"})}),Object(s.jsx)("p",{className:"d-inline p-2",children:B})]}),Object(s.jsxs)("div",{className:"mb-1",children:[Object(s.jsx)("div",{className:"d-inline",children:Object(s.jsx)("span",{className:"text-gray",children:"\u0421haracters:"})}),Object(s.jsx)("p",{className:"d-inline p-2",children:m})]})]})}),Object(s.jsxs)("div",{className:"modal-footerr",children:[Object(s.jsx)(k.b,{className:"btn btn-primary",to:"/episodes",children:"Go back"}),Object(s.jsxs)("div",{className:"nav_buttons",children:[Object(s.jsx)(k.b,{to:"/episodes/".concat(S-1),className:T,children:"Previous"}),Object(s.jsx)(k.b,{to:"/episodes/".concat(S+1),className:C,children:"Next"})]})]})]})}var z=[1,2,3],K=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={items:[],isHiddenWelcomeBanner:!1,page:1,quantityOfPages:1,pages:z,isPrevButtonDisabled:!0,isNextButtonDisabled:!1},s.dataService=new g,s.componentDidMount=function(){s.dataService.getCharacters().then((function(e){s.setState({items:e.results,quantityOfPages:e.info.pages})})).catch((function(e){return console.log(e.message)}))},s.hideWelcomeBanner=function(){s.setState({isHiddenWelcomeBanner:!0})},s.choosePage=function(e){var t=e.target.innerHTML,a=Number(t);if(t>1)s.setState({isPrevButtonDisabled:!1});else if(1===a)s.setState({isPrevButtonDisabled:!0});else if("Previous"===t)s.setState((function(e){var t=e.page-1;s.dataService.getCharacters(t).then((function(e){var a=[t-1,t,t+1];s.setState({items:e.results,page:t,pages:a,isNextButtonDisabled:!1}),1===t&&s.setState({pages:z,isPrevButtonDisabled:!0})})).catch((function(e){return console.log(e.message)}))}));else if("Next"===t)return void s.setState((function(e){var t=e.page+1;s.dataService.getCharacters(t).then((function(e){var a=[t-1,t,t+1];if(s.setState({items:e.results,page:t,pages:a,isPrevButtonDisabled:!1}),t===s.state.quantityOfPages){var n=t,c=n-1,r=c-1;s.setState({pages:[r,c,n],isNextButtonDisabled:!0})}})).catch((function(e){return console.log(e.message)}))}));s.dataService.getCharacters(t).then((function(e){if(a){var t=a===s.state.quantityOfPages;s.setState({items:e.results,page:a,isNextButtonDisabled:t})}})).catch((function(e){return console.log(e.message)}))},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsx)(k.a,{basename:"/rickAndMorty",children:Object(s.jsxs)("div",{className:"main",children:[Object(s.jsx)(L,{isHiddenWelcomeBanner:this.state.isHiddenWelcomeBanner}),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(_,{isHiddenWelcomeBanner:this.state.isHiddenWelcomeBanner,hideWelcomeBanner:this.hideWelcomeBanner}),Object(s.jsx)(M.a,{exact:!0,path:"/episodes",component:A}),Object(s.jsx)(M.a,{exact:!0,path:"/locations",component:C}),Object(s.jsx)(M.a,{exact:!0,path:"/",render:function(){return Object(s.jsx)(q,{choosePage:e.choosePage,pages:e.state.pages,page:e.state.page,quantityOfPages:e.state.quantityOfPages,isPrevButtonDisabled:e.state.isPrevButtonDisabled,isNextButtonDisabled:e.state.isNextButtonDisabled})}}),Object(s.jsx)(M.a,{exact:!0,path:"/",component:function(){return Object(s.jsx)(b,{items:e.state.items})}}),Object(s.jsx)(M.a,{path:"/locations/:id",render:function(e){return Object(s.jsx)(H,{id:e.match.params.id})}}),Object(s.jsx)(M.a,{path:"/episodes/:id",render:function(e){return Object(s.jsx)(Y,{id:e.match.params.id})}})]}),Object(s.jsx)(W,{})]})})}}]),a}(c.a.Component);i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(K,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.1ff5c2fe.chunk.js.map